"use strict";(self["webpackChunkweb_shop"]=self["webpackChunkweb_shop"]||[]).push([[379],{2379:function(t,e,s){s.r(e),s.d(e,{default:function(){return l}});var a=s(6252),r=s(3577);const o=t=>((0,a.dD)("data-v-0342fd0d"),t=t(),(0,a.Cn)(),t),c={class:"container d-flex"},i=o((()=>(0,a._)("div",{class:"col-md-5"},"scsc",-1))),u={class:"col-md-7"};function h(t,e,s,o,h,d){return(0,a.wg)(),(0,a.iD)("div",c,[i,(0,a._)("div",u,[(0,a._)("h2",null,(0,r.zw)(h.product.productName),1),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(h.product.subProduct,((t,e)=>((0,a.wg)(),(0,a.iD)("div",{key:e},(0,r.zw)(t.attributeValue),1)))),128))])])}s(7658);var d=s(6154),g={components:{},data(){return{product:{},subProduct:{},category:{},sortBy:"id",sort:"desc",pageSize:12,pageNumber:1,totalPages:1,totalElements:0}},props:["baseUrl"],methods:{async getProduct(){try{const t=await d["default"].get(this.baseUrl+"/product/product/"+this.$route.params.id);return this.product=t.data,t.data}catch(t){console.error(t)}},async getCategory(){try{const t=await d["default"].get(this.baseUrl+"/product/category/"+this.$route.params.id);return this.category=t.data,t.data}catch(t){console.error(t)}},async getListProduct(){try{const t=await d["default"].get(this.baseUrl+"/product/product?category="+this.$route.params.id+"&size="+this.pageSize+"&page="+(this.pageNumber-1)+"&sort="+this.sortBy+","+this.sort);return this.products=t.data.content,this.totalElements=t.data.totalElements,this.totalPages=t.data.totalPages,console.log(this.products[1].subProduct[0].image[0].imgURL),t.data}catch(t){console.error(t)}},changeSortBy(t){this.sortBy=t,this.pageNumber=1,this.getListProduct()},changeSort(){"desc"==this.sort?this.sort="asc":"asc"==this.sort&&(this.sort="desc"),this.getListProduct()},async changePageSize(t){this.pageSize=t,this.pageNumber=1,this.getListProduct()},async changePage(t){console.log(this.pageNumber),"prev"==t&&this.pageNumber>1?this.pageNumber--:"after"==t&&this.pageNumber<this.totalPages?this.pageNumber++:"number"==typeof t&&(this.pageNumber=t),this.getListProduct()}},async created(){this.getProduct()},computed:{pages(){let t=[];for(let e=1;e<=this.totalPages;e++)1==e||e==this.totalPages||Math.abs(e-this.pageNumber)<=2?t.push(e):3==Math.abs(e-this.pageNumber)&&t.push("...");return t},priceProducts(){let t=[];for(let e=0;e<this.products.length;e++){let s=[];for(let t=0;t<this.products[e].subProduct.length;t++)s.push(this.products[e].subProduct[t].price);t.push({min:Math.min(...s),max:Math.max(...s)})}return t},imagesProduct(){let t=[];for(let e=1;e<=this.totalPages;e++)1==e||e==this.totalPages||Math.abs(e-this.pageNumber)<=2?t.push(e):3==Math.abs(e-this.pageNumber)&&t.push("...");return t}},watch:{async $route(){this.getListProduct(),this.getCategory()}}},p=s(3744);const n=(0,p.Z)(g,[["render",h],["__scopeId","data-v-0342fd0d"]]);var l=n}}]);
//# sourceMappingURL=379.6deef4f7.js.map