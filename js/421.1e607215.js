"use strict";(self["webpackChunkweb_shop"]=self["webpackChunkweb_shop"]||[]).push([[421],{8414:function(t,a,s){s.r(a),s.d(a,{default:function(){return at}});var e=s(6252),o=s(3577),l=s(9963),i=s.p+"img/no-image.47b0c8e9.png";const c=t=>((0,e.dD)("data-v-39309053"),t=t(),(0,e.Cn)(),t),n={class:"p-3"},r={class:"d-flex justify-content-between"},d={class:"tool-bar d-md-none d-block"},u={class:"btn btn-side-bar","data-bs-toggle":"offcanvas",href:"#offcanvasExample",role:"button","aria-controls":"offcanvasExample"},b={class:"offcanvas offcanvas-start",tabindex:"-1",id:"offcanvasExample","aria-labelledby":"offcanvasExampleLabel"},p=c((()=>(0,e._)("div",{class:"offcanvas-header"},[(0,e._)("h5",{class:"offcanvas-title",id:"offcanvasExampleLabel"},"Danh mục"),(0,e._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close"})],-1))),g={class:"offcanvas-body"},h={class:"list-group list-group-flush"},m={class:"list-group-item"},v={class:"list-group-item"},f={class:"d-flex"},y=c((()=>(0,e._)("span",{class:"d-md-block d-none col-md-3 text-center m-auto"}," Hiển thị: ",-1))),_=c((()=>(0,e._)("option",{value:"12",selected:""},"12 Sản phẩm trên 1 trang",-1))),w=c((()=>(0,e._)("option",{value:"24"},"24 Sản phẩm trên 1 trang",-1))),x=c((()=>(0,e._)("option",{value:"48"},"48 Sản phẩm trên 1 trang",-1))),k=[_,w,x],C={class:"d-flex align-items-center btn","data-bs-toggle":"modal","data-bs-target":"#exampleModal"},P=(0,e.uE)('<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true" data-v-39309053><div class="modal-dialog" data-v-39309053><div class="modal-content" data-v-39309053><div class="modal-header" data-v-39309053><h1 class="modal-title fs-5" id="exampleModalLabel" data-v-39309053> Modal title </h1><button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" data-v-39309053></button></div><div class="modal-body" data-v-39309053>...</div><div class="modal-footer" data-v-39309053><button type="button" class="btn btn-secondary" data-bs-dismiss="modal" data-v-39309053> Close </button><button type="button" class="btn btn-primary" data-v-39309053> Save changes </button></div></div></div></div>',1),S={class:"d-flex justify-content-between"},z={class:"d-flex"},N=c((()=>(0,e._)("span",{class:"d-md-block d-none m-auto"},"Sắp xếp theo",-1))),B=c((()=>(0,e._)("span",{class:"m-auto"},"Giá",-1))),M=[B],D={class:"d-flex"},L=c((()=>(0,e._)("span",{class:"d-md-block d-none m-auto"},"Sắp xếp  ",-1))),E={class:"d-flex flex-wrap"},W={key:0,class:"img-product"},U={key:0},$=["src"],j={key:1,class:"img-product"},H=c((()=>(0,e._)("img",{src:i,alt:""},null,-1))),K=[H],Y={key:1,class:"img-product"},G=c((()=>(0,e._)("img",{src:i,alt:""},null,-1))),I=[G],R={class:"card-body"},T={class:"card-title"},V={class:"card-text"},Z=c((()=>(0,e._)("div",{class:"d-flex"},[(0,e._)("div",{class:"col-6"},"*****"),(0,e._)("div",{class:"col-6"},"Đã bán")],-1))),q={class:"d-flex justify-content-center mt-3"},A={class:"btn-group",role:"group"},F=["onClick"];function J(t,a,s,i,c,_){const w=(0,e.up)("font-awesome-icon"),x=(0,e.up)("router-link");return(0,e.wg)(),(0,e.iD)("div",null,[(0,e._)("div",n,[(0,e._)("h1",null,(0,o.zw)(c.category.categoryName),1)]),(0,e._)("div",r,[(0,e._)("div",d,[(0,e._)("a",u,[(0,e.Wm)(w,{icon:["fas","bars"]})]),(0,e._)("div",b,[p,(0,e._)("div",g,[(0,e._)("ul",h,[(0,e._)("li",m,[(0,e.Wm)(x,{to:"/user/info"},{default:(0,e.w5)((()=>[(0,e.Wm)(w,{icon:["fas","user"]}),(0,e.Uk)(" Tài khoản của tôi ")])),_:1})]),(0,e._)("li",v,[(0,e.Wm)(x,{to:"/user/order"},{default:(0,e.w5)((()=>[(0,e.Wm)(w,{icon:["fas","receipt"]}),(0,e.Uk)(" Đơn mua ")])),_:1})])])])])]),(0,e._)("div",f,[y,(0,e.wy)((0,e._)("select",{class:"form-select col-md-5","aria-label":"Default select example","onUpdate:modelValue":a[0]||(a[0]=t=>c.pageSize=t),onChange:a[1]||(a[1]=t=>_.changePageSize(c.pageSize))},k,544),[[l.bM,c.pageSize]])]),(0,e._)("div",C,[(0,e.Wm)(w,{icon:["fas","filter"],style:{"font-size":"25px"}})]),P]),(0,e._)("div",S,[(0,e._)("div",z,[N,(0,e._)("div",{class:(0,o.C_)(["btn btn-sort-by",{"btn-sort-by-active":"id"==c.sortBy}]),onClick:a[2]||(a[2]=t=>_.changeSortBy("id"))}," Mới nhất ",2),(0,e._)("div",{class:(0,o.C_)(["btn btn-sort-by",{"btn-sort-by-active":2==c.sortBy}]),onClick:a[3]||(a[3]=t=>_.changeSortBy(2))}," Bán chạy ",2),(0,e._)("div",{class:(0,o.C_)(["btn btn-sort-by d-flex",{"btn-sort-by-active":"price"==c.sortBy}]),onClick:a[4]||(a[4]=t=>_.changeSortBy("price")),style:{}},M,2),(0,e._)("div",{class:(0,o.C_)(["btn btn-sort-by",{"btn-sort-by-active":4==c.sortBy}]),onClick:a[5]||(a[5]=t=>_.changeSortBy(4))}," Đánh giá ",2)]),(0,e._)("div",D,[L,(0,e._)("span",{class:"m-auto d-flex btn-sort",onClick:a[6]||(a[6]=t=>_.changeSort())},[(0,e.Wm)(w,{icon:["fas","arrow-up"],class:(0,o.C_)({"sort-active":"asc"==c.sort})},null,8,["class"]),(0,e.Wm)(w,{icon:["fas","arrow-down"],class:(0,o.C_)({"sort-active":"desc"==c.sort})},null,8,["class"])])])]),(0,e._)("div",E,[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(c.products,((t,a)=>((0,e.wg)(),(0,e.iD)("div",{class:"col-md-3 col-6 p-md-2 p-1",key:a},[(0,e.Wm)(x,{class:"card overflow-hidden product-item",to:`/product/${t.id}`},{default:(0,e.w5)((()=>[t.subProduct[0]?((0,e.wg)(),(0,e.iD)("div",W,[t.subProduct[0].image[0]?((0,e.wg)(),(0,e.iD)("div",U,[(0,e._)("img",{src:s.baseUrl+"/product/file/"+t.subProduct[0].image[0].imgURL,alt:""},null,8,$)])):((0,e.wg)(),(0,e.iD)("div",j,K))])):((0,e.wg)(),(0,e.iD)("div",Y,I)),(0,e._)("div",R,[(0,e._)("h5",T,(0,o.zw)(t.productName),1),(0,e._)("p",V,(0,o.zw)(t.description),1),(0,e._)("div",null,(0,o.zw)(t.priceMin)+"đ - "+(0,o.zw)(t.priceMax)+"đ",1),Z])])),_:2},1032,["to"])])))),128))]),(0,e._)("div",q,[(0,e._)("div",A,[(0,e._)("button",{type:"button",class:"btn border btn-pagination",onClick:a[7]||(a[7]=t=>_.changePage("prev"))}," < "),((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(_.pages,((t,a)=>((0,e.wg)(),(0,e.iD)("button",{type:"button",class:(0,o.C_)(["btn border btn-pagination",{"btn-pagination-active":c.pageNumber==t}]),key:a,onClick:a=>_.changePage(t)},(0,o.zw)(t),11,F)))),128)),(0,e._)("button",{type:"button",class:"btn border btn-pagination",onClick:a[8]||(a[8]=t=>_.changePage("after"))}," > ")])])])}s(7658);var O=s(6154),Q={components:{},data(){return{category:{},products:[],sortBy:"id",sort:"desc",pageSize:12,pageNumber:1,totalPages:1,totalElements:0}},props:["baseUrl"],methods:{async getCategory(){try{const t=await O["default"].get(this.baseUrl+"/product/category/"+this.$route.params.id);return this.category=t.data,t.data}catch(t){console.error(t)}},async getListProduct(){try{const t=await O["default"].get(this.baseUrl+"/product/product?category="+this.$route.params.id+"&size="+this.pageSize+"&page="+(this.pageNumber-1)+"&sort="+this.sortBy+","+this.sort);return this.products=t.data.content,this.totalElements=t.data.totalElements,this.totalPages=t.data.totalPages,t.data}catch(t){console.error(t)}},changeSortBy(t){this.sortBy=t,this.pageNumber=1,this.getListProduct()},changeSort(){"desc"==this.sort?this.sort="asc":"asc"==this.sort&&(this.sort="desc"),this.getListProduct()},async changePageSize(t){this.pageSize=t,this.pageNumber=1,this.getListProduct()},async changePage(t){console.log(this.pageNumber),"prev"==t&&this.pageNumber>1?this.pageNumber--:"after"==t&&this.pageNumber<this.totalPages?this.pageNumber++:"number"==typeof t&&(this.pageNumber=t),this.getListProduct()}},async created(){this.getListProduct(),this.getCategory()},computed:{pages(){let t=[];for(let a=1;a<=this.totalPages;a++)1==a||a==this.totalPages||Math.abs(a-this.pageNumber)<=2?t.push(a):3==Math.abs(a-this.pageNumber)&&t.push("...");return t},priceProducts(){let t=[];for(let a=0;a<this.products.length;a++){let s=[];for(let t=0;t<this.products[a].subProduct.length;t++)s.push(this.products[a].subProduct[t].price);t.push({min:Math.min(...s),max:Math.max(...s)})}return t}},watch:{async $route(t){/\/shop\/\d+/.test(t.fullPath)&&(this.getListProduct(),this.getCategory())}}},X=s(3744);const tt=(0,X.Z)(Q,[["render",J],["__scopeId","data-v-39309053"]]);var at=tt}}]);
//# sourceMappingURL=421.1e607215.js.map