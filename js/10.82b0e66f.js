"use strict";(self["webpackChunkweb_shop"]=self["webpackChunkweb_shop"]||[]).push([[10],{8282:function(s,e,t){t.r(e),t.d(e,{default:function(){return Y}});var r=t(6252),o=t(9963),a=t.p+"img/wave.8eed88c3.png",n=t.p+"img/undraw_window_shopping_re_0kbm.ec3b3bbf.svg",i=t.p+"img/avatar.604201df.svg";const l=s=>((0,r.dD)("data-v-08e6ba88"),s=s(),(0,r.Cn)(),s),d={class:"d-flex login-container"},c=l((()=>(0,r._)("img",{class:"d-md-flex d-none wave",src:a},null,-1))),u={class:"container d-flex"},h=l((()=>(0,r._)("div",{class:"d-md-flex d-none col-md-6 h-100 justify-content-end align-items-center"},[(0,r._)("img",{style:{width:"500px"},src:n})],-1))),m={class:"col-md-6 col-12 h-100 d-flex justify-content-center"},p={class:"col-md-7 col-10 mt-3"},w=l((()=>(0,r._)("div",{class:"d-flex justify-content-center p-3"},[(0,r._)("img",{class:"",style:{height:"100px"},src:i})],-1))),g=l((()=>(0,r._)("h2",{class:"title text-center d-md-block d-none",style:{"font-size":"50px"}}," WELCOME ",-1))),f={class:"d-flex input-div position-relative"},v={class:"col-2 d-flex justify-content-center align-items-center"},y={class:"col-8"},_=l((()=>(0,r._)("div",{id:"error-username",class:"position-absolute top-0 end-0 start-0",style:{transform:"translateY(-10px)"}},null,-1))),b={class:"d-flex input-div position-relative"},k={class:"col-2 d-flex justify-content-center align-items-center"},x={class:"col-8"},C=l((()=>(0,r._)("div",{id:"error-password",class:"position-absolute top-0 end-0 start-0",style:{transform:"translateY(-10px)"}},null,-1))),E=l((()=>(0,r._)("div",{class:"btn-login"},[(0,r._)("button",{type:"submit",class:"btn"},"Login")],-1))),j={class:"d-flex justify-content-between"};function A(s,e,t,a,n,i){const l=(0,r.up)("font-awesome-icon"),A=(0,r.up)("router-link");return(0,r.wg)(),(0,r.iD)("div",d,[c,(0,r._)("div",u,[h,(0,r._)("div",m,[(0,r._)("div",p,[w,g,(0,r._)("form",{onSubmit:e[3]||(e[3]=(0,o.iM)(((...s)=>i.submitForm&&i.submitForm(...s)),["prevent"]))},[(0,r._)("div",f,[(0,r._)("div",v,[(0,r.Wm)(l,{icon:["fas","user"]})]),(0,r._)("div",y,[(0,r.wy)((0,r._)("input",{type:"text",class:"input-form",placeholder:"Tài Khoản","onUpdate:modelValue":e[0]||(e[0]=s=>n.username=s)},null,512),[[o.nr,n.username]])]),_]),(0,r._)("div",b,[(0,r._)("div",k,[(0,r.Wm)(l,{icon:["fas","lock"]})]),(0,r._)("div",x,[(0,r.wy)((0,r._)("input",{id:"password",type:"password",class:"input-form",placeholder:"Password","onUpdate:modelValue":e[1]||(e[1]=s=>n.password=s)},null,512),[[o.nr,n.password]])]),(0,r._)("div",{class:"col-2 d-flex justify-content-center align-items-center",style:{cursor:"pointer"},onClick:e[2]||(e[2]=(...s)=>i.togglePassword&&i.togglePassword(...s))},[n.showPass?(0,r.kq)("",!0):((0,r.wg)(),(0,r.j4)(l,{key:0,icon:["fas","eye"]})),n.showPass?((0,r.wg)(),(0,r.j4)(l,{key:1,icon:["fas","eye-slash"]})):(0,r.kq)("",!0)]),C]),E],32),(0,r._)("div",j,[(0,r.Wm)(A,{to:"/register"},{default:(0,r.w5)((()=>[(0,r.Uk)("Đăng ký")])),_:1}),(0,r.Wm)(A,{to:"/forgot"},{default:(0,r.w5)((()=>[(0,r.Uk)("Quên mật khẩu")])),_:1})])])])])])}var P=t(6154);const{Axios:O,AxiosError:U,CanceledError:W,isCancel:I,CancelToken:S,VERSION:T,all:F,Cancel:L,isAxiosError:N,spread:B,toFormData:H,AxiosHeaders:M,HttpStatusCode:q,formToJSON:D,mergeConfig:V}=P["default"];var z={data(){return{username:"",password:"",token:"",user:{},errors:{},showPass:!1}},props:["isLogin","isAdmin","baseUrl"],methods:{togglePassword(){this.showPass=!this.showPass;var s=document.getElementById("password"),e=s.type;s.type="password"===e?"text":"password"},async submitForm(){this.errors={},""==this.username&&(this.errors.username="Nhập tài khoản"),""==this.password&&(this.errors.password="Nhập mật khẩu"),0===Object.keys(this.errors).length?await this.login():(this.errors.username&&this.showError("error-username",this.errors.username),this.errors.password&&this.showError("error-password",this.errors.password),this.password="")},async login(){try{const t=await P["default"].post(this.baseUrl+"/auth/login",{username:this.username,password:this.password});if(t.data.statusCode==q.NotFound&&(this.showError("error-username",t.data.message),this.password=""),t.data.statusCode==q.BadRequest&&(this.showError("error-password",t.data.message),this.password=""),t.data.statusCode==q.Ok){this.token=t.data.message,localStorage.setItem("token",this.token);var s=window.location.href,e=s.replace("/login","");window.location.replace(e)}}catch(t){console.error(t)}},showError(s,e){const t=document.getElementById(s);0!=t.length&&(t.innerHTML="");const r=(s,e)=>{const r=document.createElement("div");r.innerHTML=[`<div class="alert alert-${e} alert-dismissible alert-danger" role="alert">`,`   <div>${s}</div>`,'   <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>',"</div>"].join(""),t.append(r),setTimeout((function(){r.remove()}),2e3)};r(e,"success")},async current(){try{const s=await P["default"].get(this.urlGW+"/auth/current",{headers:{"Access-Control-Allow-Origin":"*",Authorization:"Bearer "+localStorage.getItem("token")}});return this.user=s.data,this.user}catch(s){console.error(s)}},validPassword(s){return s.length>=6},async checkAcountUser(){try{const s=await P["default"].get(this.urlGW+"/auth/checkusername?username="+this.username,{headers:{"Access-Control-Allow-Origin":"*"}});return s.data}catch(s){console.error(s)}}},created(){}},G=t(3744);const R=(0,G.Z)(z,[["render",A],["__scopeId","data-v-08e6ba88"]]);var Y=R}}]);
//# sourceMappingURL=10.82b0e66f.js.map